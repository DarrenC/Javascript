<html>
  <head>
    <meta charset="UTF-8" />
    
     <link rel="stylesheet" href="anythingslider.css">
    
    <script type="text/javascript" src="https://www.google.com/jsapi?key=ABQIAAAASIKHWBDPWIeZim4xMcLBNRQH47hhfdnSFZtW7Usb4B7pUh2CMhSjCIklLpKvWC-gq_2NYG-pHpLWZw"></script>
    <script type="text/javascript" src="../library/jquery-1.7.1.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
   
    <script type="text/javascript" src="../library/jquery.anythingslider.js"></script>
    
    <script type="text/javascript">
    google.load("feeds", "1");
    
    arrImages = ['http://iamdarren.net/wordPress/wp-content/uploads/2010/07/cropped-IMG_4874.jpg',
    		'http://www.monaco.mc/webdav/site/monaco-telecom/shared/_Mobile/img/pastilles/term_595x200.jpg',
    		'http://iamdarren.net/wordPress/wp-content/uploads/2010/07/cropped-IMG_4874.jpg'
    		];

    function initialize() {
      var feed = new google.feeds.Feed("http://www.monaco.mc/Pages/Accueil/monaco_actualites/a_la_une/monaco_actualites_rss/cache/off");
      feed.setNumEntries(15);
      feed.load(function(result) {
        if (!result.error) {
          var container = document.getElementById("feed");
          
          var list = document.createElement("ul");
          list.setAttribute("id", "listing");
              
          for (var i = 0; i < result.feed.entries.length; i++) {
            var entry = result.feed.entries[i];
            
            var listItem = document.createElement("li");
            
            var divTitle = document.createElement("div");
            divTitle.appendChild(document.createTextNode(entry.title));
            divTitle.className = "title dcTitle";
            
            var divContent = document.createElement("div");
            divContent.innerHTML = entry.contentSnippet;
            divContent.className = "snippet caption-bottom";
            
            var divImage = document.createElement("div");
            divImage.className="image";
            divImage.innerHTML="<img src='"+ arrImages[Math.floor(Math.random()*3)] +"'/>";
            
            listItem.appendChild(divImage);
            listItem.appendChild(divTitle);
            listItem.appendChild(divContent);
            
            list.appendChild(listItem);
          }
          
          container.appendChild(list);
          dcTest();
        }else{
        	alert("Error");
        }
      });
    }
    google.setOnLoadCallback(initialize);
 
    </script>
    <script type="text/javascript">
    $(document).ready(function(){
    	
    	dcTest = function(){
    		$('#listing').anythingSlider()
    		  .find('.panel')
    	        .find('div[class*=caption]').css({ position: 'absolute' }).end()
    	        .hover(function(){ showCaptions( $(this) ); }, function(){ hideCaptions( $(this) ); });

    	    showCaptions = function(el){
    	        var $this = el;
    	        if ($this.find('.caption-top').length) { $this.find('.caption-top').show().animate({ top: 0, opacity: 1 }, 400); }
    	        if ($this.find('.caption-right').length) { $this.find('.caption-right').show().animate({ right: 0, opacity: 1 }, 400); }
    	        if ($this.find('.caption-bottom').length) { 
    	            $this.find('.caption-bottom').show().animate({ bottom: 0, opacity: 1 }, 400);
    	            $this.find('.dcTitle').show().animate({ bottom: 50, opacity: 1 }, 400);
    	        }
    	        if ($this.find('.caption-left').length) { $this.find('.caption-left').show().animate({ left: 0, opacity: 1 }, 400); }
    	    };
    	    hideCaptions = function(el){
    	        var $this = el;
    	        if ($this.find('.caption-top').length) { $this.find('.caption-top').stop().animate({ top: -50, opacity: 0 }, 400); }
    	        if ($this.find('.caption-right').length) { $this.find('.caption-right').stop().animate({ right: -150, opacity: 0 }, 400); }
    	        if ($this.find('.caption-bottom').length) { 
    	            $this.find('.caption-bottom').stop().animate({ bottom: -50, opacity: 0 }, 400);
    	            $this.find('.dcTitle').stop().animate({ bottom: 0, opacity: 1 }, 400);
    	        }
    	        if ($this.find('.caption-left').length) { $this.find('.caption-left').stop().animate({ left: -150, opacity: 0 }, 400); }
    	    };

    	    // hide all captions initially
    	    hideCaptions( $('#listing .panel') );;
    	}; 
    });
    </script>
    
     <link rel="stylesheet" href="default.css" type="text/css"/>
         
    <!-- AnythingSlider optional FX extension -->
    <script src="../library/jquery.anythingslider.fx.js"></script>
    
    <!-- Demos page only -->
    <link rel="stylesheet" href="demos/css/page.css">
    <link rel="stylesheet" href="demos/colorbox/colorbox.css">
    <script src="demos/js/demo.js"></script>
    <script src="demos/colorbox/jquery.colorbox-min.js"></script>
    
  </head>
  <body>
    <div id="feed">
    
    </div>
    <hr>
<!--     <div id="feedStatic"> -->
    
<!--         <div class="item"> -->
<!--             <div class="title">Monaco Fine Art : fermeture définitive !</div> -->
<!--             <div class="snippet">Le 10 janvier prochain, l’une des plus prestigieuses galeries monégasques, Monaco Fine Art, fermera ...</div> -->
<!--             <div class="image"> -->
<!--                 <img src="http://iamdarren.net/wordPress/wp-content/uploads/2010/07/cropped-IMG_4874.jpg" height="198" width="800"/> -->
<!--             </div> -->
<!--             <span class="right"><img height="30" width="30" src="http://t2.gstatic.com/images?q=tbn:ANd9GcSQ2MkFih_sozpPSk9QZHeMiiD6MD_feZMcdMUFfq3Crd9AC6A7vQ"/></span> -->
<!--             <span class="left"><img height="30" width="30" src="http://t2.gstatic.com/images?q=tbn:ANd9GcSQ2MkFih_sozpPSk9QZHeMiiD6MD_feZMcdMUFfq3Crd9AC6A7vQ"/></span> -->
<!--         </div> -->
        
<!--     </div> -->
    
  
  </body>
</html>